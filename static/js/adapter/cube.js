var cubeRawData = {
	"result": [
	{
		"data": [
			2.5,
			2.5,
			2.5,
			2.5,
			2.5,
			2.5,
			2.5,
			2.5,
			0.0
		],
		"name": "MICROSOFT"
	},
	{
		"data": [
			2.5,
			2.5,
			2.5,
			2.5,
			2.5,
			2.0,
			1.25,
			1.0,
			1.5
		],
		"name": "APPLE"
	},
	{
		"data": [
			2.5,
			2.5,
			2.5,
			2.5,
			1.25,
			2.5,
			2.5,
			2.5,
			2.0
		],
		"name": "DELL"
	},
	{
		"data": [
			2.5,
			2.5,
			2.5,
			2.5,
			0.0,
			2.5,
			2.5,
			0.5,
			0.0
		],
		"name": "IBM"
	},
	{
		"data": [
			2.5,
			2.5,
			2.5,
			2.5,
			2.5,
			2.5,
			2.5,
			0.75,
			0.0
		],
		"name": "TOSHIBA"
	}
],
	"year": [
	"2005",
	"2006",
	"2007",
	"2008",
	"2009",
	"2010",
	"2011",
	"2012",
	"2013"
]
};
var periodRawData =
	[
		{
			"caseFrom": 2005,
			"caseTo": 2006,
			"damages": 0,
			"defendantNname": "Sun Pharmaceutical Industries LTD.",
			"judgement": "",
			"plaintiffNname": "Novartis Pharmaceuticals Corporation",
			"status": ""
		},
		{
			"caseFrom": 2014,
			"caseTo": 2014,
			"damages": 0,
			"defendantNname": "Dr. Reddy`S Laboratories Ltd.",
			"judgement": "",
			"plaintiffNname": "Novartis Pharmaceuticals Corporation",
			"status": ""
		},
		{
			"caseFrom": 2014,
			"caseTo": 2014,
			"damages": 0,
			"defendantNname": "Dr. Reddy`s Laboratories, Ltd.",
			"judgement": "",
			"plaintiffNname": "Novartis Pharmaceuticals Corporation",
			"status": ""
		},
		{
			"caseFrom": 2014,
			"caseTo": 2014,
			"damages": 0,
			"defendantNname": "Dr. Reddys Laboratories, Ltd.",
			"judgement": "",
			"plaintiffNname": "Novartis Pharmaceuticals Corporation"
		},
		{
			"caseFrom": 2014,
			"caseTo": 2014,
			"damages": 0,
			"defendantNname": "Ranbaxy, Inc.",
			"judgement": "",
			"plaintiffNname": "Novartis Pharmaceuticals Corporation",
			"status": ""
		},
		{
			"caseFrom": 2006,
			"caseTo": 2009,
			"damages": 0,
			"defendantNname": "Mylan Pharmaceuticals, Inc.",
			"judgement": "",
			"plaintiffNname": "Novartis Pharmaceuticals Corporation",
			"status": ""
		},
		{
			"caseFrom": 2014,
			"caseTo": 2014,
			"damages": 0,
			"defendantNname": "Dr. Reddy`S Laboratories Ltd.",
			"judgement": "",
			"plaintiffNname": "Novartis Pharmaceuticals Corporation",
			"status": ""
		},
		{
			"caseFrom": 2010,
			"caseTo": 2011,
			"damages": 0,
			"defendantNname": "Watson Pharmaceuticals, Inc.",
			"judgement": "",
			"plaintiffNname": "Novartis Pharmaceuticals Corporation"
		},
		{
			"caseFrom": 2010,
			"caseTo": 2011,
			"damages": 0,
			"defendantNname": "Novartis Pharmaceuticals Corporation",
			"judgement": "",
			"plaintiffNname": "Charles R. Baker"
		},
		{
			"caseFrom": 2005,
			"caseTo": 2010,
			"damages": 0,
			"defendantNname": "Teva Pharmaceuticals USA, Inc.",
			"judgement": "",
			"plaintiffNname": "Novartis Pharmaceuticals Corporation"
		},
		{
			"caseFrom": 2009,
			"caseTo": 2010,
			"damages": 0,
			"defendantNname": "Teva Pharmaceuticals USA, Inc.",
			"judgement": "",
			"plaintiffNname": "Novartis Pharmaceuticals Corporation"
		},
		{
			"caseFrom": 2014,
			"caseTo": 2014,
			"damages": 0,
			"defendantNname": "Breckenridge Pharmaceutical, Inc.",
			"judgement": "",
			"plaintiffNname": "Novartis Pharmaceuticals Corporation"
		},
		{
			"caseFrom": 2014,
			"caseTo": 2014,
			"damages": 0,
			"defendantNname": "Breckenridge Pharmaceutical, Inc.",
			"judgement": "",
			"plaintiffNname": "Novartis Pharmaceuticals Corporation",
			"status": ""
		},
		{
			"caseFrom": 2013,
			"caseTo": 2014,
			"damages": 0,
			"defendantNname": "ROXANE LABORATORIES, INC.",
			"judgement": "",
			"plaintiffNname": "Novartis Pharmaceuticals Corporation",
			"status": ""
		},
		{
			"caseFrom": 2006,
			"caseTo": 2008,
			"damages": 0,
			"defendantNname": "Teva Pharmaceuticals USA, Inc.",
			"judgement": "",
			"plaintiffNname": "Novartis Pharmaceuticals Corporation",
			"status": ""
		},
		{
			"caseFrom": 2010,
			"caseTo": 2011,
			"damages": 0,
			"defendantNname": "Apotex Corp.",
			"judgement": "",
			"plaintiffNname": "Novartis Pharmaceuticals Corporation"
		},
		{
			"caseFrom": 2010,
			"caseTo": 2011,
			"damages": 0,
			"defendantNname": "Apotex Corp.",
			"judgement": "",
			"plaintiffNname": "Novartis Pharmaceuticals Corporation"
		},
		{
			"caseFrom": 2006,
			"caseTo": 2006,
			"damages": 0,
			"defendantNname": "Novartis Pharmaceuticals Corporation",
			"judgement": "",
			"plaintiffNname": "Teva Pharmaceuticals USA, Inc.",
			"status": ""
		},
		{
			"caseFrom": 2007,
			"caseTo": 2014,
			"damages": 0,
			"defendantNname": "Novartis Pharmaceuticals Corporation",
			"judgement": "",
			"plaintiffNname": "Teva Pharmaceuticals USA, Inc.",
			"status": ""
		},
		{
			"caseFrom": 2005,
			"caseTo": 2008,
			"damages": 0,
			"defendantNname": "Dr. Reddy`s Laboratories, Ltd.",
			"judgement": "",
			"plaintiffNname": "Novartis Pharmaceuticals Corporation",
			"status": ""
		},
		{
			"caseFrom": 2014,
			"caseTo": 2014,
			"damages": 0,
			"defendantNname": "Dr. Reddy`S Laboratories Ltd.",
			"judgement": "",
			"plaintiffNname": "Novartis Pharmaceuticals Corporation",
			"status": ""
		},
		{
			"caseFrom": 2005,
			"caseTo": 2005,
			"damages": 0,
			"defendantNname": "Watson Pharmaceuticals, Inc.",
			"judgement": "",
			"plaintiffNname": "Novartis Pharmaceuticals Corporation",
			"status": ""
		}
	];


define(function(require,exports){
	var dataGenerator = require('../data_generator');
	//var litigationData = dataGenerator('cube', {
	//	type: 'litigation'
	//});
	//console.log('litigationData',litigationData);
	exports.sizeCube =  function(_rawData){
		var d3Data = {};
		var nodeName = _.pull(_.keys(_rawData),'result')[0];
		d3Data.items = [];
		_.each(_rawData.result,function(_item,i){
			var item = {};
			item.nodes = [];
			item.name = _item.name;
			_.each(_item.data,function(_node,j){
				var node = {};
				node[nodeName] = _rawData[nodeName][j];
				node.value = _node;
				item.nodes.push(node);
			});
			d3Data.items.push(item);
		});
		return d3Data;
	}

	exports.periodCube = function(_rawData){
		var d3Data = {};
		d3Data.items = [];
		var item = {};
		item.nodes = _rawData;
		d3Data.items.push(item);
		return d3Data;
	}

	exports.assigneeCube = function(_rawData,assigneeName){
		var d3Data = {};
		d3Data.items = [];
		assigneeName = assigneeName || "Novartis Pharmaceuticals Corporation";
		var defendantArray = _.filter(_rawData, { 'defendantNname': assigneeName });
		var plaintiffArray = _.filter(_rawData, { 'plaintiffNname': assigneeName });
		d3Data.items.push({
			name : 'defendant_ongoing',
			nodes : _.filter(defendantArray,{'status':'ongoing'})
		});
		d3Data.items.push({
			name : 'defendant_closed',
			nodes : _.filter(defendantArray,{'status':'closed'})
		});
		d3Data.items.push({
			name : 'plaintiff_ongoing',
			nodes : _.filter(plaintiffArray,{'status':'ongoing'})
		});
		d3Data.items.push({
			name : 'plaintiff_closed',
			nodes : _.filter(plaintiffArray,{'status':'closed'})
		});
		return d3Data;
	}
});